---
title: Отправка запроса на вытягивание
description: В этой статье описывается процесс отправки запросов на вытягивание и рекомендации по обеспечению слияния внесенных изменений.
ms.topic: contributor-guide
ms.prod: non-product-specific
ms.custom: external-contributor-guide
author: sdwheeler
ms.author: sewhee
ms.date: 10/09/2019
ms.openlocfilehash: 156b5ec7b77bba5cf0a0ef2756ed8b64c21a8342
ms.sourcegitcommit: a812d716b31084926b886b93923f9b84c9b23429
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/18/2019
ms.locfileid: "75188223"
---
# <a name="best-practices-for-pull-requests"></a>Рекомендации по запросам на вытягивание

Чтобы опубликовать изменения содержимого, необходимо отправить запрос на вытягивание из своей вилки. Все запросы на вытягивание должны проходить проверку перед слиянием.

## <a name="target-the-correct-branch"></a>Выбор правильной ветви

Все изменения должны вноситься в ветвь `staging`. В ветвь `live` изменения отправлять нельзя. Изменения, внесенные в ветвь `staging`, объединяются с `live`, поэтому изменения, внесенные в `live`, перезаписываются.

Если вы отправляете изменение в документацию, которое относится только к невыпущенной версии PowerShell, проверьте наличие ветви выпуска для этой версии. Все изменения, которые относятся к определенной будущей версии, должны направляться в ветвь выпуска. Имена ветвей выпуска строятся по следующему шаблону: `release-<version>`.

## <a name="make-the-pull-request-queue-work-better-for-everyone"></a>Как ускорить обработку запросов на вытягивание в очереди

Обработка очереди запросов на вытягивание выполняется так:

- Запросы на вытягивание меньшего объема и со связанными изменениями обрабатываются быстрее.
- Запросы на вытягивание большего объема или с несвязанными изменениями обрабатываются дольше.

### <a name="avoid-branches-that-update-large-numbers-of-files"></a>Как избежать использования ветвей с обновлением большого количества файлов

Создавайте запросы на незначительные обновления для существующих статей отдельно от запросов на новые статьи или значительные изменения. Работайте над этими изменениями в отдельных рабочих ветвях.

Массовые изменения приводят к созданию запросов на вытягивание с большим количеством измененных файлов. Включайте в запросы на вытягивание не более 50 измененных файлов. Большие запросы на вытягивание труднее проверять, и они более подвержены ошибкам.

### <a name="renaming-or-deleting-files"></a>Переименование или удаление файлов

Если необходимо переименовать или удалить файлы, не совмещайте это с добавлением или обновлением содержимого.
Создайте для этих изменений отдельный запрос на вытягивание. Его слияние должно выполняться после обработки запроса на вытягивание для связанных дополнений. Например, перед удалением статьи обновляется файл перенаправлений и проверяется их работа.

Необходимо обновить все файлы, в которых есть ссылки на переименованный файл. Это относится и к файлам оглавлений. Кроме того, необходимо добавить записи перенаправления в главный файл перенаправлений (`.openpublishing.redirection.json`) в корневом каталоге репозитория.

## <a name="docs-pr-validation-service"></a>Служба проверки запросов на вытягивание документов

Служба проверки запросов на вытягивание документов представляет собой приложение GitHub, которое применяет правила проверки к файлам в запросах на вытягивание.

Работает она так.

1. Вы отправляете запрос на вытягивание.
1. В комментарии GitHub, указывающем на состояние вашего запроса на вытягивание, отображается состояние проверок, включенных для репозитория. Обратите внимание, что в этом примере включены две проверки: "Проверка фиксации" и "OpenPublishing.Build":

   ![сбой некоторых проверок](media/powershell-pull-requests/validation-failed.png)

   Сборка может быть выполнена даже в том случае, если проверка фиксации завершается сбоем.

1. Выберите пункт **Подробности**, чтобы просмотреть дополнительные сведения.
1. На странице подробностей отображаются проверки, которые завершились сбоем, а также сведения об устранении соответствующих проблем.
1. При успешном завершении проверки к запросу на вытягивание добавляется следующий комментарий:

   ![build validation (проверка сборки)](media/powershell-pull-requests/build-validation.png)

У внешних авторов (не являющихся сотрудниками корпорации Майкрософт) нет доступа к подробным отчетам о сборке и ссылкам для предварительного просмотра.

### <a name="build-warnings"></a>Предупреждения о сборке

Как правило, следует исправлять все ошибки сборки, а также учитывать все предупреждения и предложения. Однако некоторые предупреждения можно игнорировать.

Они приведены ниже.

- > Не найдено имя службы для `<version>/<modulepath>/About/About.md`

- > Метаданные со следующими именами нельзя задать в заголовке YAML либо как метаданные на уровне файла, либо как глобальные метаданные в файле docfx.json: `locale`. Они создаются платформой документации, поэтому значения, заданные в этих трех местах, будут игнорироваться. Чтобы устранить предупреждение, удалите эти значения из всех трех мест.
